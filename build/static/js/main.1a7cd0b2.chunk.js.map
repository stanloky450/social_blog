{"version":3,"sources":["post/apiPost.js","post/Post.js","core/Home.js","auth/index.js","core/Menu.js","user/SocialLogin.js","user/Signup.js","user/Signin.js","user/apiUser.js","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/Users.js","user/EditProfile.js","user/FindPeople.js","post/NewPost.js","post/EditPost.js","post/Comment.js","post/SinglePost.js","admin/Admin.js","user/ForgotPassword.js","user/ResetPassword.js","auth/PrivateRoute.js","MainRouter.js","App.js","index.js","image/Avatar.jpg"],"names":["singlePost","postId","fetch","process","method","then","response","json","catch","err","console","log","remove","token","headers","Accept","Authorization","like","userId","body","JSON","stringify","unlike","comment","uncomment","Posts","loadPosts","page","list","data","error","setState","posts","loadMore","number","state","loadLess","renderPosts","className","map","post","i","posterId","postedBy","_id","posterName","name","key","src","alt","title","onError","target","DefaultPost","style","height","width","substring","to","Date","created","toDateString","this","length","onClick","Component","Home","Post","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","isActive","history","path","location","pathname","color","fontWeight","withRouter","Fragment","user","role","cursor","push","SocialLogin","responseGoogle","socialLogin","tokenId","redirectToReferrer","clientId","buttonText","onSuccess","onFailure","Signup","handleChange","event","value","recaptchaHandler","e","dayCount","userDay","toLowerCase","getDay","recaptcha","clickSubmit","preventDefault","password","signup","open","signupForm","onChange","type","display","Signin","loading","signin","redirectToReferer","signinForm","read","follow","followId","unfollow","unfollowId","DeleteUser","redirect","deleteAccount","props","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","followers","person","borderRadius","border","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","init","redirectToSignin","listByUser","match","params","photoUrl","getTime","class","about","Users","renderUsers","users","EditProfile","redirectToProfile","id","isValid","fileSize","test","files","size","userData","set","update","auth","updateUser","accept","FormData","FindPeople","clickFollow","toFollow","splice","followMessage","findPeople","NewPost","postData","create","newPostForm","photo","EditPost","editPostForm","Comment","text","addComment","updateComments","comments","deleteComment","onSubmit","placeholder","SinglePost","redirectToHome","likes","checkLike","indexOf","componentDidMount","likeToggle","deletePost","renderPost","objectFit","padding","reverse","Admin","ForgotPassword","message","autoFocus","ResetPassword","resetPassword","resetInfo","newPassword","resetPasswordLink","resetPasswordToken","PrivateRoute","component","rest","render","from","MainRouter","exact","App","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1a7cd0b2.chunk.js","sourcesContent":["export const create = (userId, token, post) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/new/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: post\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n// export const list = () => {\n//     return fetch(`${process.env.REACT_APP_API_URL}/posts`, {\n//         method: \"GET\"\n//     })\n//         .then(response => {\n//             return response.json();\n//         })\n//         .catch(err => console.log(err));\n// };\n\n// with pagination\nexport const list = page => {\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/?page=${page}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const singlePost = postId => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const listByUser = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const remove = (postId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (postId, token, post) => {\n    console.log(postId, token, post);\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: post\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const like = (userId, token, postId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/like`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const unlike = (userId, token, postId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/unlike`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const comment = (userId, token, postId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/comment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const uncomment = (userId, token, postId, comment) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/post/uncomment`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, postId, comment })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n","import React, { Component } from \"react\";\r\nimport { list } from \"./apiPost\";\r\nimport DefaultPost from \"../image/Avatar.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Posts extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      posts: [],\r\n      page: 1,\r\n    };\r\n  }\r\n\r\n  loadPosts = page => {\r\n    list(page).then((data, error) => {\r\n      if (error) {\r\n        console.log(error);\r\n      } else {\r\n        this.setState({ posts: data });\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadPosts(this.state.page);\r\n  }\r\n\r\n  loadMore = number => {\r\n    this.setState({ page: this.state.page + number });\r\n    this.loadPosts(this.state.page + number);\r\n  };\r\n\r\n  loadLess = number => {\r\n    this.setState({ page: this.state.page - number });\r\n    this.loadPosts(this.state.page - number);\r\n  };\r\n\r\n  renderPosts = posts => {\r\n    return (\r\n      <div className='row'>\r\n        {posts.map((post, i) => {\r\n          const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n          const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n          return (\r\n            <div className='card col-md-4' key={i}>\r\n              <div className='card-body'>\r\n                <img\r\n                  src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\r\n                  alt={post.title}\r\n                  onError={i => (i.target.src = `${DefaultPost}`)}\r\n                  className='img-thunbnail mb-3'\r\n                  style={{ height: \"200px\", width: \"100%\" }}\r\n                />\r\n                <h5 className='card-title'>{post.title}</h5>\r\n                <p className='card-text'>{post.body.substring(0, 100)}</p>\r\n                <br />\r\n                <p className='font-italic mark'>\r\n                  Posted by <Link to={`${posterId}`}>{posterName} </Link>\r\n                  on {new Date(post.created).toDateString()}\r\n                </p>\r\n                <Link\r\n                  to={`/post/${post._id}`}\r\n                  className='btn btn-raised btn-primary btn-sm'\r\n                >\r\n                  Read more\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { posts, page } = this.state;\r\n    return (\r\n      <div className='container'>\r\n        <h2 className='mt-5 mb-5'>\r\n          {!posts.length ? \"No more posts!\" : \"Recent Posts\"}\r\n        </h2>\r\n\r\n        {this.renderPosts(posts)}\r\n\r\n        {page > 1 ? (\r\n          <button\r\n            className='btn btn-raised btn-warning mr-5 mt-5 mb-5'\r\n            onClick={() => this.loadLess(1)}\r\n          >\r\n            Previous ({this.state.page - 1})\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n\r\n        {posts.length ? (\r\n          <button\r\n            className='btn btn-raised btn-success mt-5 mb-5'\r\n            onClick={() => this.loadMore(1)}\r\n          >\r\n            Next ({page + 1})\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Posts;\r\n","import React from \"react\";\r\nimport Posts from \"../post/Post\";\r\n\r\nconst Home = () => (\r\n  <div>\r\n    <div className='jumbotron'>\r\n      <h2>PAWRITE</h2>\r\n      <p className='lead'> Welcome To Pawrite Social Blog</p>\r\n    </div>\r\n\r\n    <div className='container'>\r\n      <Posts />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Home;\r\n","export const signup = (user) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\r\n        method: \"POST\",\r\n        //mode: \"no-cors\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const signin = (user) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\r\n        method: \"POST\",\r\n        //mode: \"no-cors\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n    .then(response => {\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const authenticate = (jwt, next) => {\r\n    if(typeof window !== \"undefined\") {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\r\n        next();\r\n    }\r\n};\r\n\r\nexport const signout = (next) => {\r\n    if(typeof window !== \"undefined\") localStorage.removeItem(\"jwt\")\r\n    next()\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            console.log('signout', response )\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n};\r\n\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false\r\n    }\r\n    if (localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"))\r\n    }else{\r\n         return false\r\n    }\r\n\r\n};\r\n\r\nexport const forgotPassword = email => {\r\n    console.log(\"email: \", email);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ email })\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const resetPassword = resetInfo => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(resetInfo)\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const socialLogin = user => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login/`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        // credentials: \"include\", // works only in the same origin\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            console.log(\"signin response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n","// import React from \"react\";\r\n// import { Link, withRouter } from \"react-router-dom\";\r\n// import { signout, isAuthenticated } from \"../auth\";\r\n// // import Admin from './admin/Admin';\r\n\r\n// const isActive = (history, path) => {\r\n//   if (history.location.pathname === path) return { color: \"#ff9\" };\r\n//   else return { color: \"#ffffff\" };\r\n// };\r\n\r\n// const Menu = ({ history }) => (\r\n//   <div>\r\n//     <ul className='nav nav-navtab bg-primary'>\r\n//       <li className='nav-item'>\r\n//         <Link className='nav-link' to='/' style={isActive(history, \"/\")}>\r\n//           Home\r\n//         </Link>\r\n//       </li>\r\n//       <li className='nav-item'>\r\n//         <Link\r\n//           className='nav-link'\r\n//           to='/users'\r\n//           style={isActive(history, \"/users\")}\r\n//         >\r\n//           Users\r\n//         </Link>\r\n//       </li>\r\n\r\n//       {!isAuthenticated() && (\r\n//         <>\r\n//           <li className='nav-item'>\r\n//             <Link\r\n//               className='nav-link'\r\n//               to='/signup'\r\n//               style={isActive(history, \"/signup\")}\r\n//             >\r\n//               Signup\r\n//             </Link>\r\n//           </li>\r\n\r\n//           <li className='nav-item'>\r\n//             <Link\r\n//               className='nav-link'\r\n//               to='/signin'\r\n//               style={isActive(history, \"/signin\")}\r\n//             >\r\n//               Signin\r\n//             </Link>\r\n//           </li>\r\n//         </>\r\n//       )}\r\n\r\n//       {isAuthenticated() && (\r\n//         <>\r\n//           <li className='nav-item'>\r\n//             <Link\r\n//               to={`/findpeople`}\r\n//               style={isActive(history, `/findpeople`)}\r\n//               className='nav-link'\r\n//             >\r\n//               Find People\r\n//             </Link>\r\n//           </li>\r\n//           <li className='nav-item'>\r\n//             <Link\r\n//               to={`/post/create`}\r\n//               style={isActive(history, `/post/create`)}\r\n//               className='nav-link'\r\n//             >\r\n//               create Post\r\n//             </Link>\r\n//           </li>\r\n\r\n//           {isAuthenticated() && isAuthenticated().user.role === \"admin\" && (\r\n//             <li className='nav-item'>\r\n//               <Link\r\n//                 to={`/admin`}\r\n//                 style={isActive(history, `/admin`)}\r\n//                 className='nav-link'\r\n//               >\r\n//                 Admin\r\n//               </Link>\r\n//             </li>\r\n//           )}\r\n//           <li className='nav-item'>\r\n//             <span\r\n//               className='nav-link'\r\n//               style={\r\n//                 (isActive(history, \"/signin\"),\r\n//                 { cursor: \"pointer\", color: \"#fff\" })\r\n//               }\r\n//               onClick={() => signout(() => history.push(\"/\"))}\r\n//             >\r\n//               Signout{\" \"}\r\n//             </span>\r\n//           </li>\r\n\r\n//           <li className='nav-item'>\r\n//             <Link\r\n//               to={`/user/${isAuthenticated().user._id}`}\r\n//               style={isActive(history, `/user/${isAuthenticated().user._id}`)}\r\n//               className='nav-link'\r\n//             >\r\n//               {`${isAuthenticated().user.name}'s profile`}{\" \"}\r\n//             </Link>\r\n//           </li>\r\n//         </>\r\n//       )}\r\n//     </ul>\r\n//   </div>\r\n// );\r\n\r\n// export default withRouter(Menu);\r\n\r\nimport React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth\";\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path)\r\n    return { color: \"yellow\", fontWeight: \"bolder\" };\r\n  else return { color: \"#ffffff\" };\r\n};\r\n\r\nconst Menu = ({ history }) => (\r\n  <div>\r\n    <ul className='nav nav-tabs bg-primary' style={{ fontWeight: \"bold\" }}>\r\n      <li className='nav-item'>\r\n        <Link\r\n          className='nav-link'\r\n          style={(isActive(history, \"/\"), { fontWeight: \"bold\" })}\r\n          to='/'\r\n        >\r\n          Home\r\n        </Link>\r\n      </li>\r\n\r\n      <li className='nav-item' style={{ fontWeight: \"bold\" }}>\r\n        <Link\r\n          className={\r\n            history.location.pathname === \"/users\"\r\n              ? \"active nav-link\"\r\n              : \"not-active nav-link\"\r\n          }\r\n          to='/users'\r\n        >\r\n          Users\r\n        </Link>\r\n      </li>\r\n\r\n      <li className='nav-item'>\r\n        <Link\r\n          to={`/post/create`}\r\n          style={isActive(history, `/post/create`)}\r\n          className='nav-link'\r\n        >\r\n          Create Post\r\n        </Link>\r\n      </li>\r\n\r\n      {!isAuthenticated() && (\r\n        <React.Fragment>\r\n          <li className='nav-item'>\r\n            <Link\r\n              className='nav-link'\r\n              style={isActive(history, \"/signin\")}\r\n              to='/signin'\r\n            >\r\n              Sign In\r\n            </Link>\r\n          </li>\r\n          <li className='nav-item'>\r\n            <Link\r\n              className='nav-link'\r\n              style={isActive(history, \"/signup\")}\r\n              to='/signup'\r\n            >\r\n              Sign Up\r\n            </Link>\r\n          </li>\r\n        </React.Fragment>\r\n      )}\r\n\r\n      {isAuthenticated() && isAuthenticated().user.role === \"admin\" && (\r\n        <li className='nav-item'>\r\n          <Link\r\n            to={`/admin`}\r\n            style={isActive(history, `/admin`)}\r\n            className='nav-link'\r\n          >\r\n            Admin\r\n          </Link>\r\n        </li>\r\n      )}\r\n\r\n      {isAuthenticated() && (\r\n        <React.Fragment>\r\n          <li className='nav-item'>\r\n            <Link\r\n              to={`/findpeople`}\r\n              style={isActive(history, `/findpeople`)}\r\n              className='nav-link'\r\n            >\r\n              Find People\r\n            </Link>\r\n          </li>\r\n\r\n          <li className='nav-item'>\r\n            <Link\r\n              to={`/user/${isAuthenticated().user._id}`}\r\n              style={isActive(history, `/user/${isAuthenticated().user._id}`)}\r\n              className='nav-link'\r\n            >\r\n              {`${isAuthenticated().user.name}'s profile`}\r\n            </Link>\r\n          </li>\r\n\r\n          <li className='nav-item'>\r\n            <span\r\n              className='nav-link'\r\n              style={{ cursor: \"pointer\", color: \"#fff\" }}\r\n              onClick={() => signout(() => history.push(\"/\"))}\r\n            >\r\n              Sign Out\r\n            </span>\r\n          </li>\r\n        </React.Fragment>\r\n      )}\r\n    </ul>\r\n  </div>\r\n);\r\n\r\nexport default withRouter(Menu);\r\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport GoogleLogin from 'react-google-login';\nimport { socialLogin, authenticate } from '../auth';\n\nclass SocialLogin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            redirectToReferrer: false\n        };\n    }\n\n    responseGoogle = response => {\n        // console.log('response', response);\n        const tokenId = response.tokenId;\n        const user = {\n            tokenId: tokenId\n        };\n\n        socialLogin(user).then(data => {\n            // console.log('signin data: ', data);\n            if (data.error) {\n                console.log('Error Login. Please try again..');\n            } else {\n                // console.log('signin success - setting jwt: ', data);\n                authenticate(data, () => {\n                    console.log('social login response from api', data);\n                    this.setState({ redirectToReferrer: true });\n                });\n            }\n        });\n    };\n\n    render() {\n        // redirect\n        const { redirectToReferrer } = this.state;\n        if (redirectToReferrer) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <GoogleLogin\n                clientId=\"679380407525-2cvoah9gpsjjffc5k1p6atahhf2vqfl4.apps.googleusercontent.com\"\n                buttonText=\"Login with Google\"\n                onSuccess={this.responseGoogle}\n                onFailure={this.responseGoogle}\n            />\n        );\n    }\n}\n\nexport default SocialLogin;\n","import React, { Component } from \"react\";\nimport { signup } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport SocialLogin from \"./SocialLogin\";\n\nclass Signup extends Component {\n    constructor() {\n        super();\n        this.state = {\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            open: false,\n            recaptcha: false\n        };\n    }\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        this.setState({ [name]: event.target.value });\n    };\n\n    recaptchaHandler = e => {\n        this.setState({ error: \"\" });\n        let userDay = e.target.value.toLowerCase();\n        let dayCount;\n\n        if (userDay === \"sunday\") {\n            dayCount = 0;\n        } else if (userDay === \"monday\") {\n            dayCount = 1;\n        } else if (userDay === \"tuesday\") {\n            dayCount = 2;\n        } else if (userDay === \"wednesday\") {\n            dayCount = 3;\n        } else if (userDay === \"thursday\") {\n            dayCount = 4;\n        } else if (userDay === \"friday\") {\n            dayCount = 5;\n        } else if (userDay === \"saturday\") {\n            dayCount = 6;\n        }\n\n        if (dayCount === new Date().getDay()) {\n            this.setState({ recaptcha: true });\n            return true;\n        } else {\n            this.setState({\n                recaptcha: false\n            });\n            return false;\n        }\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        const { name, email, password } = this.state;\n        const user = {\n            name,\n            email,\n            password\n        };\n        // console.log(user);\n        if (this.state.recaptcha) {\n            signup(user).then(data => {\n                if (data.error) this.setState({ error: data.error });\n                else\n                    this.setState({\n                        error: \"\",\n                        name: \"\",\n                        email: \"\",\n                        password: \"\",\n                        open: true\n                    });\n            });\n        } else {\n            this.setState({\n                error: \"What day is today? Please write a correct answer!\"\n            });\n        }\n    };\n\n    signupForm = (name, email, password, recaptcha) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={this.handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={this.handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={this.handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">\n                    {recaptcha ? \"Thanks. You got it!\" : \"What day is today?\"}\n                </label>\n\n                <input\n                    onChange={this.recaptchaHandler}\n                    type=\"text\"\n                    className=\"form-control\"\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Submit\n            </button>\n        </form>\n    );\n\n    render() {\n        const { name, email, password, error, open, recaptcha } = this.state;\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Signup</h2>\n\n                <hr />\n                <SocialLogin />\n\n                <hr />\n                <br />\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                <div\n                    className=\"alert alert-info\"\n                    style={{ display: open ? \"\" : \"none\" }}\n                >\n                    New account is successfully created. Please{\" \"}\n                    <Link to=\"/signin\">Sign In</Link>.\n                </div>\n\n                {this.signupForm(name, email, password, recaptcha)}\n            </div>\n        );\n    }\n}\n\nexport default Signup;\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signin, authenticate } from \"../auth\";\nimport SocialLogin from \"./SocialLogin\";\n\nclass Signin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            redirectToReferer: false,\n            loading: false,\n            recaptcha: false\n        };\n    }\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        this.setState({ [name]: event.target.value });\n    };\n\n    recaptchaHandler = e => {\n        this.setState({ error: \"\" });\n        let userDay = e.target.value.toLowerCase();\n        let dayCount;\n\n        if (userDay === \"sunday\") {\n            dayCount = 0;\n        } else if (userDay === \"monday\") {\n            dayCount = 1;\n        } else if (userDay === \"tuesday\") {\n            dayCount = 2;\n        } else if (userDay === \"wednesday\") {\n            dayCount = 3;\n        } else if (userDay === \"thursday\") {\n            dayCount = 4;\n        } else if (userDay === \"friday\") {\n            dayCount = 5;\n        } else if (userDay === \"saturday\") {\n            dayCount = 6;\n        }\n\n        if (dayCount === new Date().getDay()) {\n            this.setState({ recaptcha: true });\n            return true;\n        } else {\n            this.setState({\n                recaptcha: false\n            });\n            return false;\n        }\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n        const { email, password } = this.state;\n        const user = {\n            email,\n            password\n        };\n        // console.log(user);\n        if (this.state.recaptcha) {\n            signin(user).then(data => {\n                if (data.error) {\n                    this.setState({ error: data.error, loading: false });\n                } else {\n                    // authenticate\n                    authenticate(data, () => {\n                        this.setState({ redirectToReferer: true });\n                    });\n                }\n            });\n        } else {\n            this.setState({\n                loading: false,\n                error: \"What day is today? Please write a correct answer!\"\n            });\n        }\n    };\n\n    signinForm = (email, password, recaptcha) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={this.handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={this.handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">\n                    {recaptcha ? \"Thanks. You got it!\" : \"What day is today?\"}\n                </label>\n\n                <input\n                    onChange={this.recaptchaHandler}\n                    type=\"text\"\n                    className=\"form-control\"\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Submit\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            email,\n            password,\n            error,\n            redirectToReferer,\n            loading,\n            recaptcha\n        } = this.state;\n\n        if (redirectToReferer) {\n            return <Redirect to=\"/\" />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">SignIn</h2>\n                <hr />\n                <SocialLogin />\n\n                <hr />\n                <br />\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                {this.signinForm(email, password, recaptcha)}\n\n                <p>\n                    <Link\n                        to=\"/forgot-password\"\n                        className=\"btn btn-raised btn-danger\"\n                    >\n                        {\" \"}\n                        Forgot Password\n                    </Link>\n                </p>\n            </div>\n        );\n    }\n}\n\nexport default Signin;\n","export const read = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (userId, token, user) => {\n    console.log(\"USER DATA UPDATE: \", user);\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: user\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const remove = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const list = () => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"jwt\")) {\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n            auth.user = user;\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\n            next();\n        }\n    }\n};\n\nexport const follow = (userId, token, followId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, followId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const unfollow = (userId, token, unfollowId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, unfollowId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const findPeople = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/findpeople/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\nimport { remove } from \"./apiUser\";\nimport { signout } from \"../auth\";\n\nclass DeleteUser extends Component {\n    state = {\n        redirect: false\n    };\n\n    deleteAccount = () => {\n        const token = isAuthenticated().token;\n        const userId = this.props.userId;\n        remove(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                // signout user\n                signout(() => console.log(\"User is deleted\"));\n                // redirect\n                this.setState({ redirect: true });\n            }\n        });\n    };\n\n    deleteConfirmed = () => {\n        let answer = window.confirm(\n            \"Are you sure you want to delete your account?\"\n        );\n        if (answer) {\n            this.deleteAccount();\n        }\n    };\n\n    render() {\n        if (this.state.redirect) {\n            return <Redirect to=\"/\" />;\n        }\n        return (\n            <button\n                onClick={this.deleteConfirmed}\n                className=\"btn btn-raised btn-danger\"\n            >\n                Delete Profile\n            </button>\n        );\n    }\n}\n\nexport default DeleteUser;\n","import React, { Component } from \"react\";\nimport { follow, unfollow } from \"./apiUser\";\n\nclass FollowProfileButton extends Component {\n    followClick = () => {\n        this.props.onButtonClick(follow);\n    };\n\n    unfollowClick = () => {\n        this.props.onButtonClick(unfollow);\n    };\n\n    render() {\n        return (\n            <div className=\"d-inline-block\">\n                {!this.props.following ? (\n                    <button\n                        onClick={this.followClick}\n                        className=\"btn btn-success btn-raised mr-5\"\n                    >\n                        Follow\n                    </button>\n                ) : (\n                    <button\n                        onClick={this.unfollowClick}\n                        className=\"btn btn-warning btn-raised\"\n                    >\n                        UnFollow\n                    </button>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default FollowProfileButton;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DefaultProfile from \"../image/Avatar.jpg\";\n\nclass ProfileTabs extends Component {\n  render() {\n    const { following, followers, posts } = this.props;\n    return (\n      <div>\n        <div className='row'>\n          <div className='col-md-4'>\n            <h3 className='text-primary'>{followers.length} Followers</h3>\n            <hr />\n            {followers.map((person, i) => (\n              <div key={i}>\n                <div>\n                  <Link to={`/user/${person._id}`}>\n                    <img\n                      style={{\n                        borderRadius: \"50%\",\n                        border: \"1px solid black\",\n                      }}\n                      className='float-left mr-2'\n                      height='30px'\n                      width='30px'\n                      onError={i => (i.target.src = `${DefaultProfile}`)}\n                      src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`}\n                      alt={person.name}\n                    />\n                    <div>\n                      <p className='lead'>{person.name}</p>\n                    </div>\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className='col-md-4'>\n            <h3 className='text-primary'>{following.length} Following</h3>\n            <hr />\n            {following.map((person, i) => (\n              <div key={i}>\n                <div>\n                  <Link to={`/user/${person._id}`}>\n                    <img\n                      style={{\n                        borderRadius: \"50%\",\n                        border: \"1px solid black\",\n                      }}\n                      className='float-left mr-2'\n                      height='30px'\n                      width='30px'\n                      onError={i => (i.target.src = `${DefaultProfile}`)}\n                      src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`}\n                      alt={person.name}\n                    />\n                    <div>\n                      <p className='lead'>{person.name}</p>\n                    </div>\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          <div className='col-md-4'>\n            <h3 className='text-primary'>{posts.length} Posts</h3>\n            <hr />\n            {posts.map((post, i) => (\n              <div key={i}>\n                <div>\n                  <Link to={`/post/${post._id}`}>\n                    <div>\n                      <p className='lead'>{post.title}</p>\n                    </div>\n                  </Link>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProfileTabs;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { read } from \"./apiUser\";\nimport DefaultProfile from \"../image/Avatar.jpg\";\nimport DeleteUser from \"./DeleteUser\";\nimport FollowProfileButton from \"./FollowProfileButton\";\nimport ProfileTabs from \"./ProfileTabs\";\nimport { listByUser } from \"../post/apiPost\";\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: { following: [], followers: [] },\n      redirectToSignin: false,\n      following: false,\n      error: \"\",\n      posts: [],\n    };\n  }\n\n  // check follow\n  checkFollow = user => {\n    const jwt = isAuthenticated();\n    const match = user.followers.find(follower => {\n      // one id has many other ids (followers) and vice versa\n      return follower._id === jwt.user._id;\n    });\n    return match;\n  };\n\n  clickFollowButton = callApi => {\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    callApi(userId, token, this.state.user._id).then(data => {\n      if (data.error) {\n        this.setState({ error: data.error });\n      } else {\n        this.setState({ user: data, following: !this.state.following });\n      }\n    });\n  };\n\n  init = userId => {\n    const token = isAuthenticated().token;\n    read(userId, token).then(data => {\n      if (data.error) {\n        this.setState({ redirectToSignin: true });\n      } else {\n        let following = this.checkFollow(data);\n        this.setState({ user: data, following });\n        this.loadPosts(data._id);\n      }\n    });\n  };\n\n  loadPosts = userId => {\n    const token = isAuthenticated().token;\n    listByUser(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ posts: data });\n      }\n    });\n  };\n\n  componentDidMount() {\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  componentWillReceiveProps(props) {\n    const userId = props.match.params.userId;\n    this.init(userId);\n  }\n\n  render() {\n    const { redirectToSignin, user, posts } = this.state;\n    if (redirectToSignin) return <Redirect to='/signin' />;\n\n    const photoUrl = user._id\n      ? `${process.env.REACT_APP_API_URL}/user/photo/${\n          user._id\n        }?${new Date().getTime()}`\n      : DefaultProfile;\n\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>Profile</h2>\n        <div className='row'>\n          <div className='col-md-4'>\n            <img\n              style={{ height: \"200px\", width: \"auto\" }}\n              className='img-thumbnail'\n              src={photoUrl}\n              onError={i => (i.target.src = `${DefaultProfile}`)}\n              alt={user.name}\n            />\n          </div>\n\n          <div className='col-md-8'>\n            <div className='lead mt-2'>\n              <p>Hello {user.name}</p>\n              <p>Email: {user.email}</p>\n              <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\n            </div>\n\n            {isAuthenticated().user &&\n            isAuthenticated().user._id === user._id ? (\n              <div className='d-inline-block'>\n                <Link\n                  className='btn btn-raised btn-info mr-5'\n                  to={`/post/create`}\n                >\n                  Create Post\n                </Link>\n\n                <Link\n                  className='btn btn-raised btn-success mr-5'\n                  to={`/user/edit/${user._id}`}\n                >\n                  Edit Profile\n                </Link>\n                <DeleteUser userId={user._id} />\n              </div>\n            ) : (\n              <FollowProfileButton\n                following={this.state.following}\n                onButtonClick={this.clickFollowButton}\n              />\n            )}\n\n            <div>\n              {isAuthenticated().user &&\n                isAuthenticated().user.role === \"admin\" && (\n                  <div class='card mt-5'>\n                    <div className='card-body'>\n                      <h5 className='card-title'>Admin</h5>\n                      <p className='mb-2 text-danger'>\n                        Edit/Delete as an Admin\n                      </p>\n                      <Link\n                        className='btn btn-raised btn-success mr-5'\n                        to={`/user/edit/${user._id}`}\n                      >\n                        Edit Profile\n                      </Link>\n                      {/*<DeleteUser userId={user._id} />*/}\n                      <DeleteUser />\n                    </div>\n                  </div>\n                )}\n            </div>\n          </div>\n        </div>\n        <div className='row'>\n          <div className='col md-12 mt-5 mb-5'>\n            <hr />\n            <p className='lead'>{user.about}</p>\n            <hr />\n\n            <ProfileTabs\n              followers={user.followers}\n              following={user.following}\n              posts={posts}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from \"react\";\nimport { list } from \"./apiUser\";\nimport DefaultProfile from \"../image/Avatar.jpg\";\nimport { Link } from \"react-router-dom\";\n\nclass Users extends Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n    };\n  }\n\n  componentDidMount() {\n    list().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ users: data });\n      }\n    });\n  }\n\n  renderUsers = users => (\n    <div className='row'>\n      {users.map((user, i) => (\n        <div className='card col-md-4' key={i}>\n          <img\n            style={{ height: \"200px\", width: \"auto\" }}\n            className='img-thumbnail'\n            src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`}\n            onError={i => (i.target.src = `${DefaultProfile}`)}\n            alt={user.name}\n          />\n          <div className='card-body'>\n            <h5 className='card-title'>{user.name}</h5>\n            <p className='card-text'>{user.email}</p>\n            <Link\n              to={`/user/${user._id}`}\n              className='btn btn-raised btn-primary btn-sm'\n            >\n              View Profile\n            </Link>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n\n  render() {\n    const { users } = this.state;\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>Users</h2>\n\n        {this.renderUsers(users)}\n      </div>\n    );\n  }\n}\n\nexport default Users;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { read, update, updateUser } from \"./apiUser\";\nimport { Redirect } from \"react-router-dom\";\nimport DefaultProfile from \"../image/Avatar.jpg\";\n\nclass EditProfile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      redirectToProfile: false,\n      error: \"\",\n      fileSize: 0,\n      loading: false,\n      about: \"\",\n    };\n  }\n\n  init = userId => {\n    const token = isAuthenticated().token;\n    read(userId, token).then(data => {\n      if (data.error) {\n        this.setState({ redirectToProfile: true });\n      } else {\n        this.setState({\n          id: data._id,\n          name: data.name,\n          email: data.email,\n          error: \"\",\n          about: data.about,\n        });\n      }\n    });\n  };\n\n  componentDidMount() {\n    this.userData = new FormData();\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n  }\n\n  isValid = () => {\n    const { name, email, password, fileSize } = this.state;\n    if (fileSize > 1000000) {\n      this.setState({\n        error: \"File size should be less than 100kb\",\n        loading: false,\n      });\n      return false;\n    }\n    if (name.length === 0) {\n      this.setState({ error: \"Name is required\", loading: false });\n      return false;\n    }\n    // email@domain.com\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\n      this.setState({\n        error: \"A valid Email is required\",\n        loading: false,\n      });\n      return false;\n    }\n    if (password.length >= 1 && password.length <= 5) {\n      this.setState({\n        error: \"Password must be at least 6 characters long\",\n        loading: false,\n      });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = name => event => {\n    this.setState({ error: \"\" });\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n\n    const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n    this.userData.set(name, value);\n    this.setState({ [name]: value, fileSize });\n  };\n\n  clickSubmit = event => {\n    event.preventDefault();\n    this.setState({ loading: true });\n\n    if (this.isValid()) {\n      const userId = this.props.match.params.userId;\n      const token = isAuthenticated().token;\n\n      update(userId, token, this.userData).then(data => {\n        if (data.error) {\n          this.setState({ error: data.error });\n        } else if (isAuthenticated().user.role === \"admin\") {\n          this.setState({\n            redirectToProfile: true,\n          });\n        } else {\n          updateUser(data, () => {\n            this.setState({\n              redirectToProfile: true,\n            });\n          });\n        }\n      });\n    }\n  };\n\n  signupForm = (name, email, password, about) => (\n    <form>\n      <div className='form-group'>\n        <label className='text-muted'>Profile Photo</label>\n        <input\n          onChange={this.handleChange(\"photo\")}\n          type='file'\n          accept='image/*'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <label className='text-muted'>Name</label>\n        <input\n          onChange={this.handleChange(\"name\")}\n          type='text'\n          className='form-control'\n          value={name}\n        />\n      </div>\n      <div className='form-group'>\n        <label className='text-muted'>Email</label>\n        <input\n          onChange={this.handleChange(\"email\")}\n          type='email'\n          className='form-control'\n          value={email}\n        />\n      </div>\n\n      <div className='form-group'>\n        <label className='text-muted'>About</label>\n        <textarea\n          onChange={this.handleChange(\"about\")}\n          type='text'\n          className='form-control'\n          value={about}\n        />\n      </div>\n\n      <div className='form-group'>\n        <label className='text-muted'>Password</label>\n        <input\n          onChange={this.handleChange(\"password\")}\n          type='password'\n          className='form-control'\n          value={password}\n        />\n      </div>\n      <button onClick={this.clickSubmit} className='btn btn-raised btn-primary'>\n        Update\n      </button>\n    </form>\n  );\n\n  render() {\n    const {\n      id,\n      name,\n      email,\n      password,\n      redirectToProfile,\n      error,\n      loading,\n      about,\n    } = this.state;\n\n    if (redirectToProfile) {\n      return <Redirect to={`/user/${id}`} />;\n    }\n\n    const photoUrl = id\n      ? `${\n          process.env.REACT_APP_API_URL\n        }/user/photo/${id}?${new Date().getTime()}`\n      : DefaultProfile;\n\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>Edit Profile</h2>\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? \"\" : \"none\" }}\n        >\n          {error}\n        </div>\n\n        {loading ? (\n          <div className='jumbotron text-center'>\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          \"\"\n        )}\n\n        <img\n          style={{ height: \"200px\", width: \"auto\" }}\n          className='img-thumbnail'\n          src={photoUrl}\n          onError={i => (i.target.src = `${DefaultProfile}`)}\n          alt={name}\n        />\n\n        {isAuthenticated().user.role === \"admin\" &&\n          this.signupForm(name, email, password, about)}\n\n        {isAuthenticated().user._id === id &&\n          this.signupForm(name, email, password, about)}\n      </div>\n    );\n  }\n}\n\nexport default EditProfile;\n","import React, { Component } from \"react\";\nimport { findPeople, follow } from \"./apiUser\";\nimport DefaultProfile from \"../image/Avatar.jpg\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\n\nclass FindPeople extends Component {\n  constructor() {\n    super();\n    this.state = {\n      users: [],\n      error: \"\",\n      open: false,\n    };\n  }\n\n  componentDidMount() {\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    findPeople(userId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ users: data });\n      }\n    });\n  }\n\n  clickFollow = (user, i) => {\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    follow(userId, token, user._id).then(data => {\n      if (data.error) {\n        this.setState({ error: data.error });\n      } else {\n        let toFollow = this.state.users;\n        toFollow.splice(i, 1);\n        this.setState({\n          users: toFollow,\n          open: true,\n          followMessage: `Following ${user.name}`,\n        });\n      }\n    });\n  };\n\n  renderUsers = users => (\n    <div className='row'>\n      {users.map((user, i) => (\n        <div className='card col-md-4' key={i}>\n          <img\n            style={{ height: \"200px\", width: \"auto\" }}\n            className='img-thumbnail'\n            src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`}\n            onError={i => (i.target.src = `${DefaultProfile}`)}\n            alt={user.name}\n          />\n          <div className='card-body'>\n            <h5 className='card-title'>{user.name}</h5>\n            <p className='card-text'>{user.email}</p>\n            <Link\n              to={`/user/${user._id}`}\n              className='btn btn-raised btn-primary btn-sm'\n            >\n              View Profile\n            </Link>\n\n            <button\n              onClick={() => this.clickFollow(user, i)}\n              className='btn btn-raised btn-info float-right btn-sm'\n            >\n              Follow\n            </button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n\n  render() {\n    const { users, open, followMessage } = this.state;\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>Find People</h2>\n\n        {open && <div className='alert alert-success'>{followMessage}</div>}\n\n        {this.renderUsers(users)}\n      </div>\n    );\n  }\n}\n\nexport default FindPeople;\n","import React, { Component } from \"react\";\nimport { isAuthenticated } from \"../auth\";\nimport { create } from \"./apiPost\";\nimport { Redirect } from \"react-router-dom\";\n\nclass NewPost extends Component {\n    constructor() {\n        super();\n        this.state = {\n            title: \"\",\n            body: \"\",\n            photo: \"\",\n            error: \"\",\n            user: {},\n            fileSize: 0,\n            loading: false,\n            redirectToProfile: false\n        };\n    }\n\n    componentDidMount() {\n        this.postData = new FormData();\n        this.setState({ user: isAuthenticated().user });\n    }\n\n    isValid = () => {\n        const { title, body, fileSize } = this.state;\n        if (fileSize > 100000) {\n            this.setState({\n                error: \"File size should be less than 100kb\",\n                loading: false\n            });\n            return false;\n        }\n        if (title.length === 0 || body.length === 0) {\n            this.setState({ error: \"All fields are required\", loading: false });\n            return false;\n        }\n        return true;\n    };\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n        this.postData.set(name, value);\n        this.setState({ [name]: value, fileSize });\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n\n        if (this.isValid()) {\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n\n            create(userId, token, this.postData).then(data => {\n                if (data.error) this.setState({ error: data.error });\n                else {\n                    this.setState({\n                        loading: false,\n                        title: \"\",\n                        body: \"\",\n                        redirectToProfile: true\n                    });\n                }\n            });\n        }\n    };\n\n    newPostForm = (title, body) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Post Photo</label>\n                <input\n                    onChange={this.handleChange(\"photo\")}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Title</label>\n                <input\n                    onChange={this.handleChange(\"title\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={title}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Body</label>\n                <textarea\n                    onChange={this.handleChange(\"body\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={body}\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Create Post\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            title,\n            body,\n            photo,\n            user,\n            error,\n            loading,\n            redirectToProfile\n        } = this.state;\n\n        if (redirectToProfile) {\n            return <Redirect to={`/user/${user._id}`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Create a new post</h2>\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                {this.newPostForm(title, body)}\n            </div>\n        );\n    }\n}\n\nexport default NewPost;\n","import React, { Component } from \"react\";\nimport { singlePost, update } from \"./apiPost\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nimport DefaultPost from \"../image/Avatar.jpg\";\n\nclass EditPost extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: \"\",\n      title: \"\",\n      body: \"\",\n      redirectToProfile: false,\n      error: \"\",\n      fileSize: 0,\n      loading: false,\n    };\n  }\n\n  init = postId => {\n    singlePost(postId).then(data => {\n      if (data.error) {\n        this.setState({ redirectToProfile: true });\n      } else {\n        this.setState({\n          id: data.postedBy._id,\n          title: data.title,\n          body: data.body,\n          error: \"\",\n        });\n      }\n    });\n  };\n\n  componentDidMount() {\n    this.postData = new FormData();\n    const postId = this.props.match.params.postId;\n    this.init(postId);\n  }\n\n  isValid = () => {\n    const { title, body, fileSize } = this.state;\n    if (fileSize > 1000000) {\n      this.setState({\n        error: \"File size should be less than 100kb\",\n        loading: false,\n      });\n      return false;\n    }\n    if (title.length === 0 || body.length === 0) {\n      this.setState({ error: \"All fields are required\", loading: false });\n      return false;\n    }\n    return true;\n  };\n\n  handleChange = name => event => {\n    this.setState({ error: \"\" });\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\n\n    const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n    this.postData.set(name, value);\n    this.setState({ [name]: value, fileSize });\n  };\n\n  clickSubmit = event => {\n    event.preventDefault();\n    this.setState({ loading: true });\n\n    if (this.isValid()) {\n      const postId = this.props.match.params.postId;\n      const token = isAuthenticated().token;\n\n      update(postId, token, this.postData).then(data => {\n        if (data.error) this.setState({ error: data.error });\n        else {\n          this.setState({\n            loading: false,\n            title: \"\",\n            body: \"\",\n            redirectToProfile: true,\n          });\n        }\n      });\n    }\n  };\n\n  editPostForm = (title, body) => (\n    <form>\n      <div className='form-group'>\n        <label className='text-muted'>Post Photo</label>\n        <input\n          onChange={this.handleChange(\"photo\")}\n          type='file'\n          accept='image/*'\n          className='form-control'\n        />\n      </div>\n      <div className='form-group'>\n        <label className='text-muted'>Title</label>\n        <input\n          onChange={this.handleChange(\"title\")}\n          type='text'\n          className='form-control'\n          value={title}\n        />\n      </div>\n\n      <div className='form-group'>\n        <label className='text-muted'>Body</label>\n        <textarea\n          onChange={this.handleChange(\"body\")}\n          type='text'\n          className='form-control'\n          value={body}\n        />\n      </div>\n\n      <button onClick={this.clickSubmit} className='btn btn-raised btn-primary'>\n        Update Post\n      </button>\n    </form>\n  );\n\n  render() {\n    const { id, title, body, redirectToProfile, error, loading } = this.state;\n\n    if (redirectToProfile) {\n      return <Redirect to={`/user/${isAuthenticated().user._id}`} />;\n    }\n\n    return (\n      <div className='container'>\n        <h2 className='mt-5 mb-5'>{title}</h2>\n\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? \"\" : \"none\" }}\n        >\n          {error}\n        </div>\n\n        {loading ? (\n          <div className='jumbotron text-center'>\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          \"\"\n        )}\n\n        <img\n          style={{ height: \"200px\", width: \"auto\" }}\n          className='img-thumbnail'\n          src={`${\n            process.env.REACT_APP_API_URL\n          }/post/photo/${id}?${new Date().getTime()}`}\n          onError={i => (i.target.src = `${DefaultPost}`)}\n          alt={title}\n        />\n\n        {isAuthenticated().user.role === \"admin\" &&\n          this.editPostForm(title, body)}\n\n        {isAuthenticated().user._id === id && this.editPostForm(title, body)}\n      </div>\n    );\n  }\n}\n\nexport default EditPost;\n","import React, { Component } from \"react\";\nimport { comment, uncomment } from \"./apiPost\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport DefaultProfile from \"../image/Avatar.jpg\";\n\nclass Comment extends Component {\n  state = {\n    text: \"\",\n    error: \"\",\n  };\n\n  handleChange = event => {\n    this.setState({ error: \"\" });\n    this.setState({ text: event.target.value });\n  };\n\n  isValid = () => {\n    const { text } = this.state;\n    if (!text.length > 0 || text.length > 150) {\n      this.setState({\n        error: \"Comment should not be empty and less than 150 characters long\",\n      });\n      return false;\n    }\n    return true;\n  };\n\n  addComment = e => {\n    e.preventDefault();\n\n    if (!isAuthenticated()) {\n      this.setState({ error: \"Please signin to leave a comment\" });\n      return false;\n    }\n\n    if (this.isValid()) {\n      const userId = isAuthenticated().user._id;\n      const token = isAuthenticated().token;\n      const postId = this.props.postId;\n\n      comment(userId, token, postId, { text: this.state.text }).then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          this.setState({ text: \"\" });\n          // dispatch fresh list of coments to parent (SinglePost)\n          this.props.updateComments(data.comments);\n        }\n      });\n    }\n  };\n\n  deleteComment = comment => {\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n    const postId = this.props.postId;\n\n    uncomment(userId, token, postId, comment).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.props.updateComments(data.comments);\n      }\n    });\n  };\n\n  deleteConfirmed = comment => {\n    let answer = window.confirm(\n      \"Are you sure you want to delete your comment?\"\n    );\n    if (answer) {\n      this.deleteComment(comment);\n    }\n  };\n\n  render() {\n    const { comments } = this.props;\n    const { error } = this.state;\n\n    return (\n      <div>\n        <h2 className='mt-5 mb-5'>Leave a comment</h2>\n\n        <form onSubmit={this.addComment}>\n          <div className='form-group'>\n            <input\n              type='text'\n              onChange={this.handleChange}\n              value={this.state.text}\n              className='form-control'\n              placeholder='Leave a comment...'\n            />\n            <button className='btn btn-raised btn-success mt-2'>Post</button>\n          </div>\n        </form>\n\n        <div\n          className='alert alert-danger'\n          style={{ display: error ? \"\" : \"none\" }}\n        >\n          {error}\n        </div>\n\n        <div className='col-md-12'>\n          <h3 className='text-primary'>{comments.length} Comments</h3>\n          <hr />\n          {comments.map((comment, i) => (\n            <div key={i}>\n              <div>\n                <Link to={`/user/${comment.postedBy._id}`}>\n                  <img\n                    style={{\n                      borderRadius: \"50%\",\n                      border: \"1px solid black\",\n                    }}\n                    className='float-left mr-2'\n                    height='30px'\n                    width='30px'\n                    onError={i => (i.target.src = `${DefaultProfile}`)}\n                    src={`${process.env.REACT_APP_API_URL}/user/photo/${comment.postedBy._id}`}\n                    alt={comment.postedBy.name}\n                  />\n                </Link>\n                <div>\n                  <p className='lead'>{comment.text}</p>\n                  <p className='font-italic mark'>\n                    Posted by{\" \"}\n                    <Link to={`/user/${comment.postedBy._id}`}>\n                      {comment.postedBy.name}{\" \"}\n                    </Link>\n                    on {new Date(comment.created).toDateString()}\n                    <span>\n                      {isAuthenticated().user &&\n                        isAuthenticated().user._id === comment.postedBy._id && (\n                          <>\n                            <span\n                              onClick={() => this.deleteConfirmed(comment)}\n                              className='text-danger float-right mr-1'\n                            >\n                              Remove\n                            </span>\n                          </>\n                        )}\n                    </span>\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Comment;\n","import React, { Component } from \"react\";\nimport { singlePost, remove, like, unlike } from \"./apiPost\";\nimport DefaultPost from \"../image/Avatar.jpg\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\nimport Comment from \"./Comment\";\n\nclass SinglePost extends Component {\n  state = {\n    post: \"\",\n    redirectToHome: false,\n    redirectToSignin: false,\n    like: false,\n    likes: 0,\n    comments: [],\n  };\n\n  checkLike = likes => {\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n    let match = likes.indexOf(userId) !== -1;\n    return match;\n  };\n\n  componentDidMount = () => {\n    const postId = this.props.match.params.postId;\n    singlePost(postId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({\n          post: data,\n          likes: data.likes.length,\n          like: this.checkLike(data.likes),\n          comments: data.comments,\n        });\n      }\n    });\n  };\n\n  updateComments = comments => {\n    this.setState({ comments });\n  };\n\n  likeToggle = () => {\n    if (!isAuthenticated()) {\n      this.setState({ redirectToSignin: true });\n      return false;\n    }\n    let callApi = this.state.like ? unlike : like;\n    const userId = isAuthenticated().user._id;\n    const postId = this.state.post._id;\n    const token = isAuthenticated().token;\n\n    callApi(userId, token, postId).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({\n          like: !this.state.like,\n          likes: data.likes.length,\n        });\n      }\n    });\n  };\n\n  deletePost = () => {\n    const postId = this.props.match.params.postId;\n    const token = isAuthenticated().token;\n    remove(postId, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        this.setState({ redirectToHome: true });\n      }\n    });\n  };\n\n  deleteConfirmed = () => {\n    let answer = window.confirm(\"Are you sure you want to delete your post?\");\n    if (answer) {\n      this.deletePost();\n    }\n  };\n\n  renderPost = post => {\n    const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\n    const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\n\n    const { like, likes } = this.state;\n\n    return (\n      <div className='card-body'>\n        <img\n          src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\n          alt={post.title}\n          onError={i => (i.target.src = `${DefaultPost}`)}\n          className='img-thunbnail mb-3'\n          style={{\n            height: \"300px\",\n            width: \"100%\",\n            objectFit: \"cover\",\n          }}\n        />\n\n        {like ? (\n          <h3 onClick={this.likeToggle}>\n            <i\n              className='fa fa-thumbs-up text-success bg-dark'\n              style={{ padding: \"10px\", borderRadius: \"50%\" }}\n            />{\" \"}\n            {likes} Like\n          </h3>\n        ) : (\n          <h3 onClick={this.likeToggle}>\n            <i\n              className='fa fa-thumbs-up text-warning bg-dark'\n              style={{ padding: \"10px\", borderRadius: \"50%\" }}\n            />{\" \"}\n            {likes} Like\n          </h3>\n        )}\n\n        <p className='card-text'>{post.body}</p>\n        <br />\n        <p className='font-italic mark'>\n          Posted by <Link to={`${posterId}`}>{posterName} </Link>\n          on {new Date(post.created).toDateString()}\n        </p>\n        <div className='d-inline-block'>\n          <Link to={`/`} className='btn btn-raised btn-primary btn-sm mr-5'>\n            Back to posts\n          </Link>\n\n          {isAuthenticated().user &&\n            isAuthenticated().user._id === post.postedBy._id && (\n              <>\n                <Link\n                  to={`/post/edit/${post._id}`}\n                  className='btn btn-raised btn-warning btn-sm mr-5'\n                >\n                  Update Post\n                </Link>\n                <button\n                  onClick={this.deleteConfirmed}\n                  className='btn btn-raised btn-danger'\n                >\n                  Delete Post\n                </button>\n              </>\n            )}\n\n          <div>\n            {isAuthenticated().user && isAuthenticated().user.role === \"admin\" && (\n              <div class='card mt-5'>\n                <div className='card-body'>\n                  <h5 className='card-title'>Admin</h5>\n                  <p className='mb-2 text-danger'>Edit/Delete as an Admin</p>\n                  <Link\n                    to={`/post/edit/${post._id}`}\n                    className='btn btn-raised btn-warning btn-sm mr-5'\n                  >\n                    Update Post\n                  </Link>\n                  <button\n                    onClick={this.deleteConfirmed}\n                    className='btn btn-raised btn-danger'\n                  >\n                    Delete Post\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { post, redirectToHome, redirectToSignin, comments } = this.state;\n\n    if (redirectToHome) {\n      return <Redirect to={`/`} />;\n    } else if (redirectToSignin) {\n      return <Redirect to={`/signin`} />;\n    }\n\n    return (\n      <div className='container'>\n        <h2 className='display-2 mt-5 mb-5'>{post.title}</h2>\n\n        {!post ? (\n          <div className='jumbotron text-center'>\n            <h2>Loading...</h2>\n          </div>\n        ) : (\n          this.renderPost(post)\n        )}\n\n        <Comment\n          postId={post._id}\n          comments={comments.reverse()}\n          updateComments={this.updateComments}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SinglePost;\n","import React, { Component } from \"react\";\r\nimport Posts from \"../post/Post\";\r\nimport Users from \"../user/Users\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Admin extends Component {\r\n    state = {\r\n        redirectToHome: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (isAuthenticated().user.role !== \"admin\") {\r\n            this.setState({ redirectToHome: true });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirectToHome) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"jumbotron\">\r\n                    <h2>Admin Dashboard</h2>\r\n                    <p className=\"lead\">Welcome to React Frontend</p>\r\n                </div>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                            <h2>Posts</h2>\r\n                            <hr />\r\n                            <Posts />\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <h2>Users</h2>\r\n                            <hr />\r\n                            <Users />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;\r\n","import React, { Component } from \"react\";\nimport { forgotPassword } from \"../auth\";\n\nclass ForgotPassword extends Component {\n    state = {\n        email: \"\",\n        message: \"\",\n        error: \"\"\n    };\n\n    forgotPassword = e => {\n        e.preventDefault();\n        this.setState({ message: \"\", error: \"\" });\n        forgotPassword(this.state.email).then(data => {\n            if (data.error) {\n                console.log(data.error);\n                this.setState({ error: data.error });\n            } else {\n                console.log(data.message);\n                this.setState({ message: data.message });\n            }\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Ask for Password Reset</h2>\n\n                {this.state.message && (\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\n                )}\n                {this.state.error && (\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\n                )}\n\n                <form>\n                    <div className=\"form-group mt-5\">\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            placeholder=\"Your email address\"\n                            value={this.state.email}\n                            name=\"email\"\n                            onChange={e =>\n                                this.setState({\n                                    email: e.target.value,\n                                    message: \"\",\n                                    error: \"\"\n                                })\n                            }\n                            autoFocus\n                        />\n                    </div>\n                    <button\n                        onClick={this.forgotPassword}\n                        className=\"btn btn-raised btn-primary\"\n                    >\n                        Send Password Rest Link\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default ForgotPassword;\n","import React, { Component } from \"react\";\nimport { resetPassword } from \"../auth\";\n\nclass ResetPassword extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            newPassword: \"\",\n            message: \"\",\n            error: \"\"\n        };\n    }\n\n    resetPassword = e => {\n        e.preventDefault();\n        this.setState({ message: \"\", error: \"\" });\n\n        resetPassword({\n            newPassword: this.state.newPassword,\n            resetPasswordLink: this.props.match.params.resetPasswordToken\n        }).then(data => {\n            if (data.error) {\n                console.log(data.error);\n                this.setState({ error: data.error, newPassword: \"\" });\n            } else {\n                console.log(data.message);\n                this.setState({ message: data.message, newPassword: \"\" });\n            }\n        });\n    };\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Reset your Password</h2>\n\n                {this.state.message && (\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\n                )}\n                {this.state.error && (\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\n                )}\n\n                <form\n                    style={{ display: this.state.message.length ? \"none\" : \"\" }}\n                >\n                    <div className=\"form-group mt-5\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            placeholder=\"Your new password\"\n                            value={this.state.newPassword}\n                            name=\"newPassword\"\n                            onChange={e =>\n                                this.setState({\n                                    newPassword: e.target.value,\n                                    message: \"\",\n                                    error: \"\"\n                                })\n                            }\n                            autoFocus\n                        />\n                    </div>\n                    <button\n                        onClick={this.resetPassword}\n                        className=\"btn btn-raised btn-primary\"\n                    >\n                        Reset Password\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default ResetPassword;\n","import React, { Component } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport {isAuthenticated} from './index'\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) =>(\r\n    // props means component passed down to this private route\r\n    <Route {...rest}\r\n     render={props =>\r\n         isAuthenticated() ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        < Redirect to={{\r\n            pathname: \"/signin\", \r\n            state:{from: props.location} }} />\r\n    )} />\r\n);\r\n\r\nexport default PrivateRoute;","import React from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport Home from './core/Home'\r\nimport Menu from './core/Menu'\r\nimport Signup from './user/Signup'\r\nimport Signin from './user/Signin'\r\nimport Profile from './user/Profile'\r\nimport Users from './user/Users'\r\nimport EditProfile from './user/EditProfile'\r\nimport FindPeople from './user/FindPeople'\r\nimport NewPost from './post/NewPost'\r\nimport EditPost from './post/EditPost'\r\nimport SinglePost from './post/SinglePost'\r\nimport Admin from './admin/Admin'\r\nimport ForgotPassword from \"./user/ForgotPassword\"\r\nimport ResetPassword from \"./user/ResetPassword\";\r\nimport PrivateRoute from './auth/PrivateRoute'\r\n\r\n\r\nconst MainRouter = () => (\r\n    <div>\r\n        <Menu/> \r\n    <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <PrivateRoute exact path=\"/post/create\" component={NewPost} />\r\n        <Route exact path=\"/post/:postId\" component={SinglePost} />\r\n        <PrivateRoute exact path=\"/post/edit/:postId\" component={EditPost} />\r\n        <Route exact path=\"/users\" component={Users} />\r\n        <Route exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/signin\" component={Signin} />\r\n\r\n        <PrivateRoute exact path=\"/user/:userId\" component={Profile} />\r\n        <PrivateRoute exact path=\"/user/edit/:userId\" component={EditProfile} />\r\n        <PrivateRoute exact path=\"/findpeople\" component={FindPeople} />\r\n        <PrivateRoute exact path=\"/admin\" component={Admin} />\r\n\r\n        <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n        <Route\r\n            exact\r\n            path=\"/reset-password/:resetPasswordToken\"\r\n            component={ResetPassword}\r\n            />\r\n                    \r\n      \r\n        \r\n    </Switch>\r\n</div>\r\n);\r\nexport default MainRouter;"," import React from 'react';\n import MainRouter from './MainRouter'\n import {BrowserRouter} from 'react-router-dom'\n //import axios from 'axios';\n\n\n const App = () => (\n      <BrowserRouter>\n          <MainRouter/>\n    </BrowserRouter>\n );\n\n\n// class App extends Component {\n//   render() {\n//     return (\n//       <div className=\"container\">\n//           <h1> React Front End</h1>\n//       </div>\n//     ); \n//   }\n// }\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n// ReactDOM.render(\n//   <App />,\n\n//   document.getElementById(\"root\")\n// );\n","module.exports = __webpack_public_path__ + \"static/media/Avatar.014f91df.jpg\";"],"sourceRoot":""}